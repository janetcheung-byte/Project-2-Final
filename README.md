# Agri-Lending Helper
### by Victor Ramirez, Liana Pilarte, Janet Cheung, Carl Boitz

#### When banks begin to take on agricultural lending, there are certain risks that they are not used to that need to be accounted for. Traditional lending from banks involves taking in a person's credit history, assets, liabilities and standing with bank. WHen a bank wants to take on agri-lending, they need to check the value of the commodity the farmer is growing, the weather in the area of the farm and the forecast of the upcoming months. In addition to this they need to look at the value of yield they are expecting. All of these are very fickle estimations that can change with one drastic climate event, which makes agri-lending even harder. In addition to these complications, agri-lenders spend lots of time evaluating applications for agricultural loans and even more time later custom tailoring credit proposals for these loans that still need to wait for approval. These loans are costing time and money for both sides of the transaction, and we believe that with Machine Learning we can reduce this time and facilitate this process.
#### Our goal with this project was to build a model that would allow us to manage this risk and possibly figure out which variables are the biggest factors when it comes to predicting crop yield. By pulling open source data from multiple APIs and bringing them together to test our hypothesis, we felt that testing a couple different models on a single crop from a single state would be a good start. The goal would be to build a dashboard with a selection of states and crops to choose from. From this dashboard our machine learning models would try to interepret that data and even predict in the future what the crop yields would be. From this point the bank would be able to make their decision on the risk they hope to take on in this transaction.
#### We pulled data from multiple open source government websites, Data.gov provided us with multiple datasets, including crop production, total yield, area harvested on multiple grains or agricultural products. For this project we chose soybeans because of their popularity currently. We also pulled historical weather data from National Centers for Environmental Information. This provided us with the Palmer Drought Severity Index (PDSI), which is calculated by precipitation, temperature and available water capacity. The USDA provided great data on crop loss per county and Indemnity compensation. 
#### We were able to pull from these open source APIs and join all these datasets to be able to run a machine learning model on them to help determine if we could accurately predict crop yield. We ran a Linear Regression model with the variables circling around the production of the soybean crop and the average temperature and precipitation for the month. We used this model to try and predict the yield and found that There were multiple factors that had both positive and negative effects on the model. One of the largest positively correllated factors was  production while one of the highest negatively correllated would be when TMAX was highest, possibly during a drought. We found that Precipitation had a minimal effect on the yield of the crop, most likely due to modern irrigation negating this factor.
#### Because we have multiple years of crop data, we can use these past figures to try and predict the future. Using a Long Short Term Memory (LSTM) we can use a recurring neural network to measure the data over the years and try to predict 2019. For the classes we pulled from Keras/ Tensorflow and we used Pytorch to create this model. THe model that we created was very tightly fit the to the actual model, which could lead us to belive that the model is overfitted.
#### Overall our models were unable to predict a future yield of a single crop. This may have been because of a number of factors. The first one being that catastrophic events occur irregularly and are hard to predict. To be able to do this would be an increible feat worth its weight in gold. Another reason our model was not as accurate was the lack of data. We only measured temperature back to 2014, Although we had it by the month, this does not allow for many data points. Along with these, temperature we only had available by State whereas crop data was available by the county. Even though it was more granular we had to scale out to make sure all the measurements aligned. In the end we had data done by state by month, which was not the level of granularity we wanted to achieve but will be worked on in the future. One final point we did not cover with soybeans is their importance in the China Trade War currently. China is one of the biggest purchasers of American soybeans by a large margin and with the irratic stances of the Trade War it would make it impossible to incorporate commodity prices in a meaningful way for this project.